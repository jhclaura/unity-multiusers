<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Daily Life VR - Eat</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
		<meta name="mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
		<link rel="stylesheet" type="text/css" href="css/style.css">
		<!--<script src='js/lib/firebase.js'></script>-->
	</head>
	<body>		
		<div id="render-canvas"></div>
		<!-- <div id="render-canvas"></div> -->

		<script type="text/javascript" src="js/lib/three.js"></script>
		<script type="text/javascript" src="js/lib/Detector.js"></script>

		<!-- <div id="useless-widget" data-author="Laura JuoHsin Chen" data-href="http://uselesspress.org/things/dailylife-poop/"></div> 
		<script type="text/javascript" src="http://uselesspress.org/widget/widget.js" async></script>-->

		<script type="text/javascript">
			// var myDataRef = new Firebase('https://dailylifevr-poop.firebaseio.com/');
			// var visitDataRef = myDataRef.child("totalVisit");
			// var fireVisit = 0;
			// visitDataRef.on("value", function(snapshot) {
			// 	fireVisit = snapshot.val().visit_count;
			// 	console.log("firevisit: " + fireVisit);
			// });

			//device detection
			//source: http://stackoverflow.com/questions/3514784/what-is-the-best-way-to-detect-a-mobile-device-in-jquery
			var isMobile = false; //initiate as false
			var whichMobile = "";
			if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
				isMobile = true;
			}
			console.log("isMobile: " + isMobile);

			// tell android or iOS
			if( /Android/i.test(navigator.userAgent) ) {
				console.log("I'm android!");
				whichMobile = "android";
			}
			if( /iPhone|iPad|iPod/i.test(navigator.userAgent) ) {
				console.log("I'm iOS!");
				whichMobile = "iOS_mobile";
			}

			// if it's desktop, create click.gif div for PointerlockAPI
			if( !isMobile ) {
				var clickDiv = document.createElement('div');
				clickDiv.id = "blocker";
				// clickDiv.style = "display: none;";
				document.getElementsByTagName("body")[0].appendChild(clickDiv);

				var fingerImg = document.createElement('img');
				fingerImg.setAttribute("src", "images/click.gif");
				fingerImg.setAttribute("width", "60");
				fingerImg.setAttribute("height", "60");
				var ins = document.createElement('div');
				ins.id = "instructions";
				ins.appendChild(fingerImg);

				clickDiv.appendChild(ins);
			}

			// DETECT
			if ( ! Detector.webgl ) Detector.addGetWebGLMessage();

			//
			function byId(_id) {
				return document.getElementById(_id);
			}

			function byClass(_class) {
				return document.getElementsByClassName(_class);
			}

			var renderCanvas = byId("render-canvas");
			var blockerDiv = byId("blocker");	
		</script>

		<!-- WebVR Boilerplate -->
		<script src="js/lib/effects/VREffect.js"></script>
		<script src="js/lib/webvr-polyfill.js"></script>
		<script src="js/lib/webvr-manager.js"></script>

		<script type="text/javascript" src="js/lib/howler.js"></script>
		<script type="text/javascript" src="js/lib/SPE.min.js"></script>
		<script type="text/javascript" src="js/lib/BufferLoader.js"></script>
		<script type="text/javascript" src="js/lib/physi.js"></script>
		<script type="text/javascript" src="js/lib/ImprovedNoise.js"></script>
		<!-- <script type="text/javascript" src="js/lib/tween.min.js"></script> -->
		<script type="text/javascript" src="js/lib/TweenMax.min.js"></script>
		<script type="text/javascript" src="js/lib/EndArrayPlugin.js"></script>
		<script type="text/javascript" src="js/util/EndArrayPlugin.js"></script>
		<script type="text/javascript" src="js/lib/stats.min.js"></script>
		<script type="text/javascript" src="js/lib/threex.dynamictexture.js"></script>

		<script type="text/javascript" src="js/sample.js"></script>
		<script type="text/javascript" src="js/wave.js"></script>
		<script type="text/javascript" src="js/personEat.js"></script>
		<script type="text/javascript" src="js/AniObject.js"></script>

		<script type="text/javascript" src="js/controls/DeviceControls_vEat_noServer.js"></script>
		<script type="text/javascript" src="js/script_functions.js"></script>
		<script type="text/javascript" src="js/script_setup_clean.js"></script>
		<script type="text/javascript" src="js/loader_eat.js"></script>
		
		<script type="text/javascript" src="js/script_vEat.js"></script>

		<script>
		  // (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  // (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  // m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		  // })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

		  // ga('create', 'UA-65359720-7', 'auto');
		  // ga('send', 'pageview');
		</script>

	</body>
</html>
